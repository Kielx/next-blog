---
title: 'IP Tracker'
liveLink: 'https://ip-tracker.pantak.net/'
githubLink: 'https://github.com/Kielx/ip-tracker'
excerpt: A web application that allows users to find a location on the map based on the provided IP address, website address or e-mail address
coverImage: '/images/projects/IPTracker/new60OPT.webm'
placeholder: false
writeup: true
techUsed:
  - 'React'
  - 'TailwindCSS'
  - 'Leaflet JS'
ribbonColor: '#61DAFB'
ribbonIcon: '<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>React</title><path fill="white" d="M14.23 12.004a2.236 2.236 0 0 1-2.235 2.236 2.236 2.236 0 0 1-2.236-2.236 2.236 2.236 0 0 1 2.235-2.236 2.236 2.236 0 0 1 2.236 2.236zm2.648-10.69c-1.346 0-3.107.96-4.888 2.622-1.78-1.653-3.542-2.602-4.887-2.602-.41 0-.783.093-1.106.278-1.375.793-1.683 3.264-.973 6.365C1.98 8.917 0 10.42 0 12.004c0 1.59 1.99 3.097 5.043 4.03-.704 3.113-.39 5.588.988 6.38.32.187.69.275 1.102.275 1.345 0 3.107-.96 4.888-2.624 1.78 1.654 3.542 2.603 4.887 2.603.41 0 .783-.09 1.106-.275 1.374-.792 1.683-3.263.973-6.365C22.02 15.096 24 13.59 24 12.004c0-1.59-1.99-3.097-5.043-4.032.704-3.11.39-5.587-.988-6.38-.318-.184-.688-.277-1.092-.278zm-.005 1.09v.006c.225 0 .406.044.558.127.666.382.955 1.835.73 3.704-.054.46-.142.945-.25 1.44-.96-.236-2.006-.417-3.107-.534-.66-.905-1.345-1.727-2.035-2.447 1.592-1.48 3.087-2.292 4.105-2.295zm-9.77.02c1.012 0 2.514.808 4.11 2.28-.686.72-1.37 1.537-2.02 2.442-1.107.117-2.154.298-3.113.538-.112-.49-.195-.964-.254-1.42-.23-1.868.054-3.32.714-3.707.19-.09.4-.127.563-.132zm4.882 3.05c.455.468.91.992 1.36 1.564-.44-.02-.89-.034-1.345-.034-.46 0-.915.01-1.36.034.44-.572.895-1.096 1.345-1.565zM12 8.1c.74 0 1.477.034 2.202.093.406.582.802 1.203 1.183 1.86.372.64.71 1.29 1.018 1.946-.308.655-.646 1.31-1.013 1.95-.38.66-.773 1.288-1.18 1.87-.728.063-1.466.098-2.21.098-.74 0-1.477-.035-2.202-.093-.406-.582-.802-1.204-1.183-1.86-.372-.64-.71-1.29-1.018-1.946.303-.657.646-1.313 1.013-1.954.38-.66.773-1.286 1.18-1.868.728-.064 1.466-.098 2.21-.098zm-3.635.254c-.24.377-.48.763-.704 1.16-.225.39-.435.782-.635 1.174-.265-.656-.49-1.31-.676-1.947.64-.15 1.315-.283 2.015-.386zm7.26 0c.695.103 1.365.23 2.006.387-.18.632-.405 1.282-.66 1.933-.2-.39-.41-.783-.64-1.174-.225-.392-.465-.774-.705-1.146zm3.063.675c.484.15.944.317 1.375.498 1.732.74 2.852 1.708 2.852 2.476-.005.768-1.125 1.74-2.857 2.475-.42.18-.88.342-1.355.493-.28-.958-.646-1.956-1.1-2.98.45-1.017.81-2.01 1.085-2.964zm-13.395.004c.278.96.645 1.957 1.1 2.98-.45 1.017-.812 2.01-1.086 2.964-.484-.15-.944-.318-1.37-.5-1.732-.737-2.852-1.706-2.852-2.474 0-.768 1.12-1.742 2.852-2.476.42-.18.88-.342 1.356-.494zm11.678 4.28c.265.657.49 1.312.676 1.948-.64.157-1.316.29-2.016.39.24-.375.48-.762.705-1.158.225-.39.435-.788.636-1.18zm-9.945.02c.2.392.41.783.64 1.175.23.39.465.772.705 1.143-.695-.102-1.365-.23-2.006-.386.18-.63.406-1.282.66-1.933zM17.92 16.32c.112.493.2.968.254 1.423.23 1.868-.054 3.32-.714 3.708-.147.09-.338.128-.563.128-1.012 0-2.514-.807-4.11-2.28.686-.72 1.37-1.536 2.02-2.44 1.107-.118 2.154-.3 3.113-.54zm-11.83.01c.96.234 2.006.415 3.107.532.66.905 1.345 1.727 2.035 2.446-1.595 1.483-3.092 2.295-4.11 2.295-.22-.005-.406-.05-.553-.132-.666-.38-.955-1.834-.73-3.703.054-.46.142-.944.25-1.438zm4.56.64c.44.02.89.034 1.345.034.46 0 .915-.01 1.36-.034-.44.572-.895 1.095-1.345 1.565-.455-.47-.91-.993-1.36-1.565z"/></svg>'
---

![App Screenshot](/images/projects/IPTracker/new60OPT.webm#postVideo 'Screenshot of app')

## Table of contents

- [Introduction](#introduction)
- [Project description](#project-description)
  - [What features does IP Tracker have](#what-features-does-ip-tracker-have)
  - [And what features does IP Tracker not have](#and-what-features-does-ip-tracker-not-have)
- [Created with](#created-with)
- [How it works](#how-it-works)
  - [Design](#design)
  - [Search for user's location](#search-for-users-location)
  - [Location](#location)
  - [Location display](#location-display)
- [Summary](#summary)

## Introduction

Below I am presenting what IP Tracker is. After reading this description you'll know:

- What IP Tracker can do and how it works
- What this application cannot do
- What tools I used to prepare the project
- How I solved some of the problems in the development process
- What I have learned from the process of creating this project

## Project description

IP Tracker is my solution to [challenge](https://www.frontendmentor.io/challenges/ip-address-tracker-I8-0yYAH0), the purpose of which was to create a web application,
that lets the user find geolocation and display location data based on the provided IP address, website address or e-mail address.
The application uses React and three separate APIs to create a simple and effective tracker. User current location should be displayed on the first visit of the website.

Does that mean all I had to do was copy the finished design and called it my project? Not at all. I didn't have access to the design files except for two photos, style-guid and two API links that should be used to display the location. The entire implementation and connection of all APIs in this project is my work.

### What features does IP Tracker have

- The user can display text data about the location based on:
  - IP address,
  - WWW address,
  - E-mail address
- The user can see the location on the map based on:
  - IP address,
  - WWW address,
  - E-mail address
- By default, on first visit, the user is shown his current location based on the IP address
- If the current location cannot be determined (e.g. user has blocked scripts) the default location (1.1.1.1) is displayed
- The user can zoom in on the map, a friendly locator pointing to the location is displayed
- Transitions between locations are animated and dynamic
- The website works as SPA (Single Page Application)
- All requests are handled by Frontend
- The application is responsive and should look correct on all types of devices that support modern browsers
- IP Tracker can be operated with just the keyboard

### And what features does IP Tracker not have

- Does not display full data about IP address, WWW, E-mail
- Does not display information about the system, browser, weather, user default language and other similar data
- The application is limited by the amount of free API requests, after using them you will not be able to use it. It is not an application that you want to use for professional or business solutions.

## Created with

- [React](https://reactjs.org/)
- [TailwindCSS](https://tailwindcss.com/)
- [GetJSONIP](https://getjsonip.com/)
- [IP Geolocation API](https://geo.ipify.org/)
- [Leaflet JS](https://leafletjs.com/)
- [Netlify Serverless Functions](https://www.netlify.com/docs/functions/)

## How it works

Following features were required for application to work:

### Design

Implementation of existing interface based on provided photo was one of project requirements. No sketch or figma design files were provided. The entire website had to be responsive and work on all devices.

![Phone Mockup](/images/projects/IPTracker/PhoneMockup2.webp#postMiniImage 'Phone App Mockup')

### Search for user's location

To create this functionality, I used the [Geolocation API](https://geo.ipify.org/). It returns data about the user's location after making the appropriate request to the API. Due to the fact that the API is secured with a key and has a limited number of requests for a free user, I had to secure the request by calling the serverless function hosted on Netlify. Otherwise, everyone would have access to my API key that they could then abuse.

```javascript
const fetch = require('node-fetch')

exports.handler = async (event, context) => {
  const API_ENDPOINT = `https://geo.ipify.org/api/v1?apiKey=${process.env.GEO_API_KEY}&${event.queryStringParameters.query}=${event.queryStringParameters.ip}`
  try {
    const response = await fetch(API_ENDPOINT)
    const data = await response.json()
    return {
      statusCode: 200,
      body: JSON.stringify(data),
    }
  } catch (error) {
    console.log(error)
    return {
      statusCode: 500,
      body: JSON.stringify({ error: 'Failed fetching data' }),
    }
  }
}
```

### Location

Merely calling the geolocation API for an IP address is not enough. I had to prepare regular expression tests - REGEXP, which check whether the user wants to check the location based on an IP address, website address or E-mail address. Then, when making a request specific to a given address, it returns data about the user's location.

Additionally, it was necessary to consider the cases when the user logs in for the first time - then the application should display his current location. If the user has already searched for an address, it should be saved and displayed in the current session. For this I used SessionStorage.

```javascript
useEffect(() => {
  if (
    sessionStorage.getItem('geoIP') !== null &&
    sessionStorage.getItem('geoIP') !== ''
  ) {
    setGeoIP(JSON.parse(sessionStorage.getItem('geoIP')))
  } else {
    async function getLocalIP() {
      try {
        const response = await fetch('https://jsonip.com', { mode: 'cors' })
        let data = await response.json()
        setLocalIP(data.ip)
        getGeoIP(data.ip)
        return
      } catch (e) {
        getGeoIP('1.1.1.1')
        console.log(e)
        return
      }
    }
    getLocalIP()
  }
}, [])
```

### Location display

Actual displaying of location was another key feature. Here, the Leaflet API came in handy, which easily creates an interactive map on which we can display a predetermined location. The smooth transitions between locations are ensured by the Leaflet function - `map.flyTo (position)`.

```javascript
// /components/Map.js
import React from 'react'
import { MapContainer, TileLayer, Marker, Popup, useMap } from 'react-leaflet'
import LoadingSpinner from './LoadingSpinner'

function MapComponent({ position }) {
  const map = useMap()
  map.flyTo(position)
  return null
}

const Map = ({ lat, lng }) => {
  if (!lat || !lng) {
    return <LoadingSpinner />
  }

  const position = [lat, lng]

  return (
    <MapContainer
      center={position}
      zoom={13}
      scrollWheelZoom={true}
      style={{
        height: '100%',
        width: '100%',
        zIndex: 0,
      }}
    >
      <MapComponent position={position}></MapComponent>
      <Marker position={position}>
        <Popup>You are here!</Popup>
      </Marker>
    </MapContainer>
  )
}

export default Map
```

## Summary

IP Tracker turned out to be an interesting and fun project. All APIs used in the project have clear documentation and are extremely easy to use. By creating this project, I developed my skills in the field of React, handling and communication with external APIs, and once again I had the pleasure of using TailwindCSS to handle styling.

If you haven't done it already, check out [IP Tracker live](https://ip-tracker.pantak.net/) and take a look at [GitHub code](https://github.com/kielx/ip-tracker).

![App Mockup](/images/projects/IPTracker/LaptopMockup.webp#postMiniImage 'App Mockup')
